<mat-card class="mat-elevation-z3">
	<mat-card-header>
		<img mat-card-avatar loading="lazy" [src]="student.collectionTextureUrl" [alt]="student.name" />
		<mat-card-title>{{ student.name }}</mat-card-title>
		<mat-card-subtitle>{{ school }}</mat-card-subtitle>
		<div class="tags">
			<button mat-flat-button tabindex="-1" size="small" [color]="student.bulletType" [title]="bulletType">
				<mat-icon svgIcon="bullet_type"></mat-icon> {{ bulletType.substring(0, 1) }}
			</button>
			<button mat-flat-button tabindex="-1" size="small" [color]="student.armorType" [title]="armorType">
				<mat-icon svgIcon="armor_type"></mat-icon> {{ armorType.substring(0, 1) }}
			</button>
			<!-- <button mat-flat-button size="small" color="squadType">{{ squadType }}</button> -->
			<!-- <button mat-flat-button size="small" color="position">{{ position }}</button> -->
		</div>
		<img class="school_icon" loading="lazy" [src]="student.schoolIconUrl" />
	</mat-card-header>
	<mat-card-content>
		<div class="stats">
			<div class="stats-level">
				<input
					type="number"
					[(ngModel)]="model.level"
					[min]="model.levelMin"
					[max]="model.levelMax"
					[step]="1"
					(focus)="handleFocusLevel($event)"
					(wheel)="handleWheelLevel($event)"
				/>
			</div>
			<div class="stats-star">
				<bar-rating class="is_target-hide" [(rate)]="model.star" [max]="5" [attr.value]="model.star">
					<ng-template ratingActive>
						<mat-icon color="ratingActive">star</mat-icon>
					</ng-template>
					<ng-template ratingInactive>
						<mat-icon color="ratingInactive">star</mat-icon>
					</ng-template>
				</bar-rating>
				<bar-rating class="is_target-show" [(rate)]="model.starTarget" [max]="5" [attr.value]="model.starTarget">
					<ng-template ratingActive>
						<mat-icon color="ratingActive">star</mat-icon>
					</ng-template>
					<ng-template ratingInactive>
						<mat-icon color="ratingInactive">star</mat-icon>
					</ng-template>
				</bar-rating>
			</div>
			<div class="stats-weapon">
				<bar-rating class="is_target-hide" [attr.disabled]="model.star === 5 ? null : 'disabled'" [(rate)]="model.weapon" [max]="3">
					<ng-template ratingActive>
						<mat-icon color="ratingActiveAlt">star</mat-icon>
					</ng-template>
					<ng-template ratingInactive>
						<mat-icon color="ratingInactive">star</mat-icon>
					</ng-template>
				</bar-rating>
				<bar-rating class="is_target-show" [attr.disabled]="model.star === 5 ? null : 'disabled'" [(rate)]="model.weaponTarget" [max]="3">
					<ng-template ratingActive>
						<mat-icon color="ratingActiveAlt">star</mat-icon>
					</ng-template>
					<ng-template ratingInactive>
						<mat-icon color="ratingInactive">star</mat-icon>
					</ng-template>
				</bar-rating>
			</div>
		</div>
		<div class="skills">
			<ba-skill-card *ngFor="let skill of model.skills" [model]="skill" [isTarget]="isTarget"></ba-skill-card>
		</div>
		<div class="equipments">
			<ba-equipment-card *ngFor="let equipment of model.equipments" [model]="equipment" [isTarget]="isTarget"></ba-equipment-card>
		</div>
	</mat-card-content>
	<mat-card-actions>
		<!-- TODO: i18n -->
		<button class="action-delete" mat-button color="warn" tabindex="-1" size="small" (click)="handleClickDelete()">
			<mat-icon>delete</mat-icon> 移除
		</button>
		<!-- TODO: i18n -->
		<button
			class="action-target"
			mat-flat-button
			[color]="isTarget ? 'accent' : 'basic'"
			tabindex="-1"
			size="small"
			(click)="handleClickTarget()"
		>
			<mat-icon>adjust</mat-icon> 目标
		</button>
	</mat-card-actions>
	<mat-card-footer></mat-card-footer>
</mat-card>
